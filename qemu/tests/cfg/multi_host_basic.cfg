- multi_host_basic:
    virt_test_type = qemu
    type = multi_host_basic
    restart_vm = yes
    kill_vm = yes
    login_timeout = 240
    check_vm_needs_restart = no # FIXME: Work around for it
    take_regular_screendumps = no
    store_vm_info = no
    variants:
        - @default:
            reboot = yes
            nodes = node1 node2
            vms = vm1 vm2
            serial_login = yes
            node_selectors_node2 = [{"key": "cpu_vendor_id", "operator": "eq", "values": "AuthenticAMD"},
            node_selectors_node2 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            node_selectors_node3 = [{"key": "cpu_vendor_id", "operator": "==", "values": "AuthenticAMD"},
            node_selectors_node3 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            vm_node_vm1 = node1
            vm_node_vm2 = node2
            mig_dest_node_vm1 = node2
            mig_dest_node_vm2 = node1
            nodes += " node3"
            vms += " vm3"
            node_selectors_node3 = [{"key": "cpu_vendor_id", "operator": "==", "values": "AuthenticAMD"},
            node_selectors_node3 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            vm_node_vm3 = node3
        - with_pool:
            reboot = yes
            nodes = node1 node2
            vms = vm1 vm2
            serial_login = yes
            node_selectors_node1 = [{"key": "cpu_vendor_id", "operator": "eq", "values": "AuthenticAMD"},
            node_selectors_node1 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            node_selectors_node2 = [{"key": "cpu_vendor_id", "operator": "==", "values": "AuthenticAMD"},
            node_selectors_node2 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            vm_node_vm1 = node1
            vm_node_vm2 = node2

            image_format = qcow2
            pools = p1 p2
            pool_selectors_p1 = [{"key": "access.nodes", "operator": "==", "values": ['node1']}]
            pool_selectors_p2 = [{"key": "access.nodes", "operator": "==", "values": ['node2']}]
            image_pool_name_image1_vm1 = p1
            image_pool_name_image1_vm2 = p2

        - with_migration:
            nodes = node1 node2
            vms = vm1
            serial_login = yes
            node_selectors_node1 = [{"key": "cpu_vendor_id", "operator": "eq", "values": "AuthenticAMD"},
            node_selectors_node1 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            node_selectors_node2 = [{"key": "cpu_vendor_id", "operator": "==", "values": "AuthenticAMD"},
            node_selectors_node2 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            vm_node_vm1 = node1
#             vm_node_vm2 = node2
            mig_dest_node_vm1 = node2
#             mig_dest_node_vm2 = node1
#             nodes += " node3"
#             vms += " vm3"
#             node_selectors_node3 = [{"key": "cpu_vendor_id", "operator": "==", "values": "AuthenticAMD"},
#             node_selectors_node3 += {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
#             vm_node_vm3 = node3
            pools += " p3"
            pool_selectors_p3 = [{"key": "access.nodes", "operator": "==", "values": ['node3']}]
            image_pool_name_image1_vm3 = p3
